<template name="bankAccounts">
  {{#if bankAccounts}}
    {{#with defaultBankAccount}}
      {{> _defaultBankAccount}}
    {{/with}}
    {{#each savedBankAccounts}}
      {{> savedBankAccount}}
    {{/each}}
  {{else}}
    <h4 class="m-t-3 text-xs-center">
      You don't have any bank accounts linked to your account.
      You will <strong>not be able to receive any payments</strong> until you add one.
    </h4>
  {{/if}}

  {{#if addingBankAccount}}
    {{> newBankAccountForm}}
  {{else}}
    <button type='button' class='btn btn-lg center-block btn-primary m-y-3' id='new-bank-account-button'>
      Add new bank account
    </button>
  {{/if}}

</template>

<template name="newBankAccountForm">
  <div class="row m-t-3">
    <div class='col-md-6 col-md-offset-3'>
      {{#autoForm schema="NewBankAccountSchema" id="new-bank-account-form" type="normal"}}
        <fieldset class="form-group">
          {{> afQuickField name='nickname'}}
        </fieldset>

        <fieldset class="form-group">
          {{> afQuickField name='routingNumber'}}
        </fieldset>

        <fieldset class="form-group">
          {{> afQuickField name='accountNumber'}}
        </fieldset>

        <fieldset class="form-group">
          {{> afQuickField name='isDefault'}}
        </fieldset>

        <div class="row">
          <div class="col-md-9">
            <button type="submit" class="btn btn-primary m-t-1 m-b-3 btn-block btn-lg">
              Link bank account
            </button>
          </div>
          <div class='col-md-3'>
            <button type="button" class="btn btn-outline-danger m-t-1 m-b-3 btn-block btn-lg" id='cancel-add-bank-account-button'>
              Cancel
            </button>
          </div>
        </div>


      {{/autoForm}}
    </div>
  </div>
</template>
